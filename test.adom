$items = [
  'buy milk',
  'buy sausage',
  'buy mounds bar'
]

doctype html5

module main -->
  function addItem () {
    $.items.push($select('#item').value)
    $update()
  }
<--

html [
  body on:load(main) [
    h1 | TODO APP |
    input id='item'; br;
    button on:click(addItem) | ADD ITEM |
    ul [
      li each(i in items) | {i} |
    ]
    div | count: {items.length} |
  ]
]
