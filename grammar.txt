elementlist ::=
  element elementlist |
  expression elementlist |
  customtagdef elementlist |
  customtagcall |
  empty

valuelist ::=
  value valuelist |
  empty

arglist ::=
  identifier arglist |
  empty

customtagcall ::=
  [ identifier valuelist ]

customtagdef ::=
  'tag' identifier arglist [ element ] |
  'tag' identifier arglist ;

expression ::=
  each identifier in variable { elementlist } |
  if value compare value { elementlist } |
  if value compare value { elementlist } else { elementlist } |

compare ::=
  > | < | == | >= | <=

value ::=
  string | number | variable | boolean

variable ::=
  identifier accessor 

accessor ::=
  [ value ] accessor |
  . identifier accessor |
  empty

element ::=
  tagdef [ elementlist ] |
  tagdef innertext |
  innertext

innertext ::=
  | raw |

tagdef ::=
  tag properties

tag ::=
  identifier |
  identifier . classlist |
  identifier # idlist

properties ::=
  identifier = string properties |
  identifier |
  empty

classlist ::=
  identifier . classlist |
  identifier

idlist ::=
  identifier # idlist |
  identifier 